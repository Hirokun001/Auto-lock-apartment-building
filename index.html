<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>オートロックマンション 地図＋スプレッドシート</title>
  <style>
    body, html { margin:0; padding:0; height:100%; }
    #map { width:100%; height:100%; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBaxgKJTUw1-0gl1pks-ATIc6iw1HITZyg&callback=initMap" async defer></script>
  <script>
    const apartments = [
      {
        name: "プレサンスロジェ草津シエル",
        position: { lat: 35.02332033360808, lng: 135.96861511597268 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1C-uSw46BRsJm24PjUI021dkoiSI-D1fRKuNigim6hxo/edit"
      },
      // 青地-1
                                   {
        name: "シルクトレーテA棟",
        position: { lat: 35.0073924, lng: 135.9740855 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1NPxVpgBONxBvbza5W7wbYnQGInP1dRr-c3fKYpAnGe0/edit?usp=sharing"
      },
                                    {
        name: "シルクトレーテB棟",
        position: { lat: 35.0075715, lng: 135.974253 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1o772GZpl8Uu8GsAIyXoScJszCJFQN5Hc18ifRReWmkg/edit?usp=sharing"
      },
                                    {
        name: "ガーデンハイツヤマキ",
        position: { lat: 35.0042782, lng: 135.9707617 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1cIv7xgrO0vkcXxxGeviPxx05NkKw_EhfEkCOwQ3uhlA/edit?usp=sharing"
      },
                                    {
        name: "クランボナール",
        position: { lat: 35.0040314, lng: 135.9714115 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1_XvlOmBBMgIrarYD_quGHwGsWwHq9bNF71mX8MCm-Ec/edit?usp=sharing"
      },
                                    {
        name: "アルタ青地ビュー",
        position: { lat: 35.0083318, lng: 135.9750119 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1rdzT_NRjPwPjWQynSrSdYqGSgANFE4qQpfyBHL2Bo_M/edit?usp=sharing"
      },
            {
        name: "EL ORIENTE2",
        position: { lat: 35.0135221, lng: 135.9716834 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1b7Tml1T_bFOVJlxdKGRrZE8kJKPFej1N_rSfpcd6kK4/edit?usp=sharing"
      },
      // 追分-2
                                          {
        name: "Baum Dorf",
        position: { lat: 35.0061945, lng: 135.9606194 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1qVp3wMr0_plAG91-EpANvB-9UNTOww-WhmRZBwOTF8E/edit?usp=sharing"
      },
                                    {
        name: "デン・エデン",
        position: { lat: 35.0069946, lng: 135.9663906 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1zQJhR_R02iHvyNBdOLRvBEornEvOivDVYNV35SY2QBU/edit?usp=sharing"
      },
                                    {
        name: "ミニオン一期一会",
        position: { lat: 34.9911528, lng: 135.9644665 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/12ZU7wTm7n8IS4WIZwH7G4U9mBJnPlh59QOJlJ96vCgM/edit?usp=sharing"
      },
                                    {
        name: "パルト・プロムナードⅠ",
        position: { lat: 35.0099677, lng: 135.9655099 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1Z0DdHhCUaoCQRBgKckEN8bohvAyx5Zfg_6Awqn8y3_s/edit?usp=sharing"
      },
                                    {
        name: "パルト・プロムナードⅡ",
        position: { lat: 35.0100723, lng: 135.9654017 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1-FAask5Li3iYGb1UUjKhDvCf4UKUAX3vxtxLV73yFIs/edit?usp=sharing"
      },
            {
        name: "EL ORIENTE",
        position: { lat: 35.0137968, lng: 135.9714161 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1Pv1OciAaztZCIBkIyCxO46pHIErr5dWZJnRgCB00NcI/edit?usp=sharing"
      },
      // 草津-3
            {
        name: "コスモ草津(夜)",
        position: { lat: 35.0173991, lng: 135.9598398 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1o4RwGf_t96GtdFDp7jNkVDMSFr22Vhz3-ScqZ9wOoDc/edit?usp=sharing"
      },
                  {
        name: "草津パークホームズ",
        position: { lat: 35.0122945, lng: 135.9559939 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1ThqZh2LcPcwXBIP630vr3b_ZCR26-npxVy_-347ORRY/edit?usp=sharing"
      },
            {
        name: "ココスモ草津Ⅱ (夜) ",
        position: { lat: 35.0176379, lng: 135.9587089 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1M8uhi42_NvaVrYCA59XLDuCrLYcn5t8XlrLv-g8-dEI/edit?usp=sharing"
      },
                  {
        name: "リベルテ草津",
        position: { lat: 35.018516, lng: 135.9591753 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1bVCC-vuvmNAqsKfs3mvRXWGhKCE7XHeAFeJ_nwWRzWA/edit?usp=sharing"
      },
                        {
        name: "アコール東草津",
        position: { lat: 35.0157344, lng: 135.9690205 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1rAz961SDxo0Q028rR0fBV8nyPq5A1RQeawZE34nZJFA/edit?usp=sharing"
      },
                              {
        name: "Casa raffine草津",
        position: { lat: 35.0151292, lng: 135.9645046 },
        sheetUrl: "https://docs.google.com/spreadsheets/d/1WGYDKJQj28mxtCNOBP3MVInTkD0yVOvfirfHZkh6ZHk/edit?usp=sharing"
      }
    ];

    let map;
    let userMarker = null;
    let shadowMarker = null;

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center: apartments[0].position,
        zoom: 16
      });

// スマホ判定
const isMobile = window.innerWidth <= 768;

// マンションマーカー追加
apartments.forEach(apt => {
  const marker = new google.maps.Marker({
    position: apt.position,
    map: map,
    title: apt.name,
    icon: {
      url: "http://maps.google.com/mapfiles/ms/icons/red-dot.png", // Google標準ピン
      scaledSize: isMobile ? new google.maps.Size(80, 80) : new google.maps.Size(32, 32) // スマホなら大きめ
    }
  });

  marker.addListener("click", () => {
    window.open(apt.sheetUrl, "_blank");
  });
});





      // 現在地を取得して表示
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          position => {
            const userPos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

            // 影マーカー（少し大きめ・薄黒）
            shadowMarker = new google.maps.Marker({
              position: userPos,
              map: map,
              zIndex: 1,
              icon: {
                path: google.maps.SymbolPath.CIRCLE,
                scale: 24, // サイズ大きめ
                fillColor: "black",
                fillOpacity: 0.3,
                strokeWeight: 0
              }
            });

            // 本体マーカー（大きめの青丸）
            userMarker = new google.maps.Marker({
              position: userPos,
              map: map,
              zIndex: 2,
              title: "現在地",
              icon: {
                path: google.maps.SymbolPath.CIRCLE,
                scale: 18, // サイズを大きめに変更
                fillColor: "#4285F4",
                fillOpacity: 1,
                strokeWeight: 2,
                strokeColor: "white"
              }
            });

            // --- アニメーション処理（常に動く） ---
            let growing = true;
            let currentScale = 18;
            setInterval(() => {
              if (growing) {
                currentScale += 0.2; // 拡大スピード
                if (currentScale >= 22) growing = false; // 上限
              } else {
                currentScale -= 0.2; // 縮小スピード
                if (currentScale <= 18) growing = true; // 下限
              }

              userMarker.setIcon({
                path: google.maps.SymbolPath.CIRCLE,
                scale: currentScale,
                fillColor: "#4285F4",
                fillOpacity: 1,
                strokeWeight: 2,
                strokeColor: "white"
              });
            }, 100); // 100msごとに更新（約10FPS）

            map.setCenter(userPos);
          },
          error => {
            console.error("Geolocation error:", error);
            alert("現在地を取得できませんでした。");
          }
        );
      } else {
        alert("このブラウザは現在地取得に対応していません。");
      }
    }
  </script>
</body>
</html>


